package com.example.test.ch2;


import org.junit.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class BeanFactoryTest {

	@Test
	public void testSimpleLoad() {
//		ApplicationContext ac = new ClassPathXmlApplicationContext("circle-reference-test.xml");
//		CircleReferenceClassB bean = ac.getBean(CircleReferenceClassB.class);
//		AutowireCapableBeanFactory beanFactory = ac.getAutowireCapableBeanFactory();
//		beanFactory.destroyBean(bean);

//		XmlBeanFactory bf = new XmlBeanFactory(new ClassPathResource("test-string.xml"));
//		Student bean = (Student) ac.getBean("student");
//		MyTestBean myTestBean = (MyTestBean) ac.getBean("myTestBean");
//		User user = (User) ac.getBean(User.class);

//		Company.Staff staff = (Company.Staff) ac.getBean("staff");
//		staff.testMethod();

//		Company company = (Company) ac.getBean("company");
//		System.out.println(company);

//		Company company2 = (Company) ac.getBean("company2");
//		System.out.println(company2);

//		BeanFactory parentBeanFactory = ac.getParentBeanFactory();
//		if (parentBeanFactory instanceof DefaultListableBeanFactory) {
//			System.out.println("I am DefaultListableBeanFactory instance!!!");
//		}else{
//			System.out.println("7777777777777777777777");
//		}

//		ac.
//		ac.addBeanPostProcessor(new UserBeanPostProcessor());
//		User user = (User) bf.getBean("user1");
//		bf.destroySingletons();

//		ApplicationContext applicationContext = new ClassPathXmlApplicationContext("parent-test.xml");
//		User user = (User) applicationContext.getBean("testParent");
//		System.out.println(user);
	}
}
